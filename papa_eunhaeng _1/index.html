<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />

<style>
body{
  margin:0;
  padding:0;
  font-family:'Malgun Gothic','Apple SD Gothic Neo',-apple-system,sans-serif;
  background:#000;   /* 여백은 검정 */
}

/* ===== index.jpeg 전체 페이지 (세로로 긴 원본) ===== */
.bg-wrap{
  position:relative;
  max-width:600px;
  margin:0 auto;
}
.bg-wrap img.main-bg{
  width:100%;
  height:auto;
  display:block;
}

/* ===== 아이콘 클릭 영역 (index.jpeg 기준 위치) ===== */
.icon-hitbox{
  position:absolute;
  display:block;
  text-indent:-9999px;
  overflow:hidden;
  z-index:10;
}

/* 아이콘 위치 – 새 index.jpeg 기준 (두 번째·세 번째 스샷 위치) */
.icon-event{ top:63%; left:16%; width:13%; height:7%; }
.icon-home { top:63%; left:36%; width:13%; height:7%; }
.icon-call { top:63%; left:56%; width:13%; height:7%; }
.icon-store{ top:63%; left:76%; width:13%; height:7%; }

/* ===== 배너 슬라이드 – 3번째 사진 위치/크기 ===== */
.banner-box{
  position:absolute;
  top:74%;            /* 아이콘 바로 아래 */
  left:3%;
  width:94%;
  z-index:5;
}

.banner-inner{
  width:100%;
  /* 배너 원본 비율(1536 x 503) */
  aspect-ratio:1536 / 503;
  border-radius:14px;
  overflow:hidden;
  background:#ffffff;
  box-shadow:0 4px 10px rgba(0,0,0,0.15);
}

.banner-track{
  display:flex;
  width:300%;
  height:100%;
  transition:transform 0.25s ease;
}

.banner-slide{
  flex:0 0 100%;
  height:100%;
  cursor:pointer;
}
.banner-slide img{
  width:100%;
  height:100%;
  object-fit:cover;
  display:block;
}

/* ●●● 인디케이터 (배너 아래 중앙) */
.banner-dots{
  margin-top:6px;
  display:flex;
  gap:6px;
  justify-content:center;
}
.banner-dots .dot{
  width:8px;
  height:8px;
  border-radius:50%;
  border:1px solid #bbb;
  background:#fff;
  padding:0;
}
.banner-dots .dot.active{
  background:#2f6b3a;
  border-color:#2f6b3a;
}

/* ===== 팝업 공통 ===== */
.popup-wrap{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,0.55);
  display:none;
  justify-content:center;
  align-items:center;
  z-index:9999;
}
.popup-box{
  position:relative;
  width:90%;
  max-width:480px;
}
.popup-box img{
  width:100%;
  height:auto;
  display:block;
}

/* 닫기 버튼 – 오른쪽 위 작게 */
.popup-close{
  position:absolute;
  top:10px;
  right:10px;
  width:26px;
  height:26px;
  border-radius:6px;
  border:1px solid rgba(0,0,0,0.25);
  background:#ffffff;
  color:#222;
  font-size:18px;
  line-height:24px;
  text-align:center;
  cursor:pointer;
}
</style>
</head>
<body>

<div class="bg-wrap">
  <!-- 배경(index.jpeg – 3375 x 6000) -->
  <img src="index.jpeg" alt="시흥 은행점 파파존스" class="main-bg">

  <!-- 아이콘 클릭 영역 -->
  <a class="icon-hitbox icon-event"
     href="https://pji.co.kr/event/w_ongoingList">이벤트 보기</a>

  <a class="icon-hitbox icon-home"
     href="https://pji.co.kr/w_main">홈페이지</a>

  <a class="icon-hitbox icon-call"
     href="tel:1577-8080">콜센터</a>

  <a class="icon-hitbox icon-store"
     href="tel:031-313-6995">매장 주문</a>

  <!-- 3가지 배너 슬라이드 (3번째 사진 위치/크기) -->
  <div class="banner-box">
    <div class="banner-inner" id="bannerInner">
      <div class="banner-track" id="bannerTrack">
        <!-- 1+1 배너 -->
        <div class="banner-slide" data-popup="onePopup">
          <img src="assets/images/etx/friday_1plus1.jpeg" alt="1+1 배너">
        </div>
        <!-- 카드 배너 -->
        <div class="banner-slide" data-popup="cardPopup">
          <img src="assets/images/etx/card.jpeg" alt="카드 결제 배너">
        </div>
        <!-- 통신사 배너 -->
        <div class="banner-slide" data-popup="phonPopup">
          <img src="assets/images/etx/telecom_30.jpeg" alt="통신사 30% 배너">
        </div>
      </div>
    </div>

    <!-- ●●● 인디케이터 -->
    <div class="banner-dots" id="bannerDots">
      <button class="dot active" data-index="0"></button>
      <button class="dot" data-index="1"></button>
      <button class="dot" data-index="2"></button>
    </div>
  </div>
</div>

<!-- ===== 첫 화면 팝업(up.jpeg) ===== -->
<div id="firstPopup" class="popup-wrap">
  <div class="popup-box">
    <button class="popup-close" onclick="closePopup('firstPopup')">×</button>
    <img src="assets/images/etx/up.jpeg" alt="첫 화면 안내">
  </div>
</div>

<!-- 1+1 팝업 -->
<div id="onePopup" class="popup-wrap">
  <div class="popup-box">
    <button class="popup-close" onclick="closePopup('onePopup')">×</button>
    <img src="assets/images/etx/one.jpg" alt="1+1 이벤트 안내">
  </div>
</div>

<!-- 카드사 팝업 -->
<div id="cardPopup" class="popup-wrap">
  <div class="popup-box">
    <button class="popup-close" onclick="closePopup('cardPopup')">×</button>
    <img src="assets/images/etx/card_pop.jpeg" alt="카드사 할인 안내">
  </div>
</div>

<!-- 통신사 팝업 -->
<div id="phonPopup" class="popup-wrap">
  <div class="popup-box">
    <button class="popup-close" onclick="closePopup('phonPopup')">×</button>
    <img src="assets/images/etx/phon.jpeg" alt="통신사 30% 할인 안내">
  </div>
</div>

<script>
/* 팝업 열고 닫기 */
function openPopup(id){
  const el = document.getElementById(id);
  if(el) el.style.display = "flex";
}
function closePopup(id){
  const el = document.getElementById(id);
  if(el) el.style.display = "none";
}

/* 첫 화면 들어오면 up.jpeg 자동으로 띄우기 */
window.addEventListener('load', function(){
  openPopup('firstPopup');
});

/* ===== 배너 슬라이드 (손가락 슬라이드 + ●●●) ===== */
const track  = document.getElementById('bannerTrack');
const slides = document.querySelectorAll('.banner-slide');
const dots   = document.querySelectorAll('#bannerDots .dot');
let currentSlide = 0;

function showSlide(i){
  if(i < 0) i = slides.length - 1;
  if(i >= slides.length) i = 0;
  currentSlide = i;
  track.style.transform = `translateX(-${i * 100}%)`;
  dots.forEach((dot, idx) => {
    dot.classList.toggle('active', idx === i);
  });
}

/* ●●● 클릭 */
dots.forEach(dot => {
  dot.addEventListener('click', () => {
    const idx = Number(dot.dataset.index);
    showSlide(idx);
  });
});

/* 배너 클릭 -> 해당 팝업 열기 */
slides.forEach(slide => {
  slide.addEventListener('click', () => {
    const pid = slide.dataset.popup;
    if(pid) openPopup(pid);
  });
});

/* 손가락 슬라이드 – 민감도 높게 */
let startX = null;

track.addEventListener('touchstart', (e) => {
  if(e.touches.length === 1){
    startX = e.touches[0].clientX;
  }
}, {passive:true});

track.addEventListener('touchend', (e) => {
  if(startX === null) return;
  const endX = e.changedTouches[0].clientX;
  const diff = endX - startX;
  const threshold = 25;  // 조금만 움직여도 넘어가게
  if(Math.abs(diff) > threshold){
    if(diff < 0) showSlide(currentSlide + 1); // 왼쪽으로 밀면 다음
    else        showSlide(currentSlide - 1); // 오른쪽으로 밀면 이전
  }
  startX = null;
}, {passive:true});
</script>

</body>
</html>