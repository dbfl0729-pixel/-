<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />

<style>
body{
  margin:0;
  padding:0;
  overflow-x:hidden;
  font-family:'Malgun Gothic','Apple SD Gothic Neo',-apple-system,sans-serif;
  background:#ffffff;
}

/* ===== 메인 이미지(index.jpeg) ===== */
.main-wrap{
  position:relative;
  max-width:600px;
  margin:0 auto;
}
.main-wrap img.main-bg{
  width:100%;
  height:auto;
  display:block;
}

/* ===== 아이콘 히트박스 ===== */
.icon-hitbox{
  position:absolute;
  display:block;
  text-indent:-9999px;
  overflow:hidden;
  z-index:10;
}

/* 아이콘 위치 – index.jpeg 비율 기준 (지금 위치가 딱 좋다고 한 값) */
.icon-event{ top:73%; left:14%; width:13%; height:8%; }
.icon-home { top:73%; left:35%; width:13%; height:8%; }
.icon-call { top:73%; left:56%; width:13%; height:8%; }
.icon-store{ top:73%; left:77%; width:13%; height:8%; }

/* ===== 배너 슬라이드 (자동 X, 손가락 슬라이드 O) ===== */
.banner-box{
  position:absolute;
  top:81%;      /* 아이콘 바로 아래; 필요하면 80~82% 사이로 미세 조정 가능 */
  left:0;
  width:100%;
  display:flex;
  flex-direction:column;
  align-items:center;
  z-index:5;
}

.banner-inner{
  width:92%;
  max-width:560px;
  aspect-ratio:5/1;       /* 배너 세로 높이를 줄여서 부담스럽지 않게 */
  border-radius:14px;
  overflow:hidden;
  background:#ffffff;
  box-shadow:0 4px 10px rgba(0,0,0,0.08);
}

.banner-track{
  display:flex;
  width:300%;
  height:100%;
  transition:transform 0.35s ease;
}

.banner-slide{
  flex:0 0 100%;
  height:100%;
  cursor:pointer;
}
.banner-slide img{
  width:100%;
  height:100%;
  object-fit:cover;
  display:block;
}

/* ●●● 인디케이터 */
.banner-dots{
  margin-top:6px;
  display:flex;
  gap:6px;
  justify-content:center;
}
.banner-dots .dot{
  width:8px;
  height:8px;
  border-radius:50%;
  border:1px solid #bbb;
  background:#fff;
  padding:0;
}
.banner-dots .dot.active{
  background:#2f6b3a;      /* 진한 초록 포인트 */
  border-color:#2f6b3a;
}

/* ===== 팝업 공통 ===== */
.popup-wrap{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,0.55);
  display:none;
  justify-content:center;
  align-items:center;
  z-index:9999;
}
.popup-box{
  position:relative;
  width:90%;
  max-width:480px;
}
.popup-box img{
  width:100%;
  height:auto;
  display:block;
}

/* 닫기 버튼 – 우측 상단 작게 */
.popup-close{
  position:absolute;
  top:10px;
  right:10px;
  width:26px;
  height:26px;
  border-radius:6px;
  border:1px solid rgba(0,0,0,0.25);
  background:#ffffff;
  color:#222;
  font-size:18px;
  line-height:24px;
  text-align:center;
  cursor:pointer;
}
</style>
</head>
<body>

<div class="main-wrap">
  <!-- 배경 이미지 -->
  <img src="index.jpeg" alt="시흥 은행점 파파존스" class="main-bg">

  <!-- 아이콘 클릭 영역 (투명) -->
  <a class="icon-hitbox icon-event"
     href="https://pji.co.kr/event/w_ongoingList">이벤트 보기</a>

  <a class="icon-hitbox icon-home"
     href="https://pji.co.kr/w_main">홈페이지</a>

  <a class="icon-hitbox icon-call"
     href="tel:1577-8080">콜센터</a>

  <a class="icon-hitbox icon-store"
     href="tel:031-313-6995">매장 주문</a>

  <!-- 배너 슬라이드 (손가락으로 넘기기 / 클릭 시 팝업) -->
  <div class="banner-box">
    <div class="banner-inner" id="bannerInner">
      <div class="banner-track" id="bannerTrack">
        <!-- 1+1 배너 -->
        <div class="banner-slide" data-popup="onePopup">
          <img src="assets/images/etx/friday_1plus1.jpeg" alt="1+1 배너">
        </div>
        <!-- 카드 배너 -->
        <div class="banner-slide" data-popup="cardPopup">
          <img src="assets/images/etx/card.jpeg" alt="카드 결제 배너">
        </div>
        <!-- 통신사 배너 -->
        <div class="banner-slide" data-popup="phonPopup">
          <img src="assets/images/etx/telecom_30.jpeg" alt="통신사 30% 배너">
        </div>
      </div>
    </div>

    <!-- 인디케이터 -->
    <div class="banner-dots" id="bannerDots">
      <button class="dot active" data-index="0"></button>
      <button class="dot" data-index="1"></button>
      <button class="dot" data-index="2"></button>
    </div>
  </div>
</div>

<!-- ===== 첫 화면 팝업(up.jpeg) ===== -->
<div id="firstPopup" class="popup-wrap">
  <div class="popup-box">
    <button class="popup-close" onclick="closePopup('firstPopup')">×</button>
    <img src="assets/images/etx/up.jpeg" alt="첫 화면 안내">
  </div>
</div>

<!-- ===== 1+1 팝업 ===== -->
<div id="onePopup" class="popup-wrap">
  <div class="popup-box">
    <button class="popup-close" onclick="closePopup('onePopup')">×</button>
    <img src="assets/images/etx/one.jpg" alt="1+1 이벤트 안내">
  </div>
</div>

<!-- ===== 카드사 팝업 ===== -->
<div id="cardPopup" class="popup-wrap">
  <div class="popup-box">
    <button class="popup-close" onclick="closePopup('cardPopup')">×</button>
    <img src="assets/images/etx/card_pop.jpeg" alt="카드사 할인 안내">
  </div>
</div>

<!-- ===== 통신사 팝업 ===== -->
<div id="phonPopup" class="popup-wrap">
  <div class="popup-box">
    <button class="popup-close" onclick="closePopup('phonPopup')">×</button>
    <img src="assets/images/etx/phon.jpeg" alt="통신사 30% 할인 안내">
  </div>
</div>

<script>
/* 팝업 열고 닫기 */
function openPopup(id){
  const el = document.getElementById(id);
  if(el) el.style.display = "flex";
}
function closePopup(id){
  const el = document.getElementById(id);
  if(el) el.style.display = "none";
}

/* 페이지 처음 들어오면 up.jpeg 팝업 자동 표시 */
window.addEventListener('load', function(){
  openPopup('firstPopup');
});

/* ===== 배너 슬라이드 (손가락 슬라이드 + ●●●) ===== */
const track  = document.getElementById('bannerTrack');
const slides = document.querySelectorAll('.banner-slide');
const dots   = document.querySelectorAll('#bannerDots .dot');
let currentSlide = 0;

function showSlide(i){
  if(i < 0) i = slides.length - 1;
  if(i >= slides.length) i = 0;
  currentSlide = i;
  track.style.transform = `translateX(-${i * 100}%)`;
  dots.forEach((dot, idx) => {
    dot.classList.toggle('active', idx === i);
  });
}

/* ●●● 클릭 */
dots.forEach(dot => {
  dot.addEventListener('click', () => {
    const idx = Number(dot.dataset.index);
    showSlide(idx);
  });
});

/* 배너 클릭 -> 해당 팝업 열기 */
slides.forEach(slide => {
  slide.addEventListener('click', () => {
    const pid = slide.dataset.popup;
    if(pid) openPopup(pid);
  });
});

/* 손가락 슬라이드 */
let startX = null;

track.addEventListener('touchstart', (e) => {
  if(e.touches.length === 1){
    startX = e.touches[0].clientX;
  }
}, {passive:true});

track.addEventListener('touchend', (e) => {
  if(startX === null) return;
  const endX = e.changedTouches[0].clientX;
  const diff = endX - startX;
  if(Math.abs(diff) > 50){
    if(diff < 0) showSlide(currentSlide + 1); // 왼쪽으로 밀기 -> 다음
    else        showSlide(currentSlide - 1); // 오른쪽으로 밀기 -> 이전
  }
  startX = null;
}, {passive:true});
</script>

</body>
</html>