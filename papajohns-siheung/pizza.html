<!DOCTYPE:html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>í”¼ì ë©”ë‰´ (ì˜¬ë¦¬ë¸Œ í…Œë§ˆ)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Noto+Sans+KR:wght@400;700&display=swap" rel="stylesheet">
    <style>
        /* ì˜¬ë¦¬ë¸Œ í…Œë§ˆ ì»¤ìŠ¤í…€ ë³€ìˆ˜ ë° ìŠ¤íƒ€ì¼ */
        :root {
            --primary-color: #059669; /* Emerald 600 - ë©”ì¸ ì˜¬ë¦¬ë¸Œ/ê·¸ë¦° */
            --secondary-color: #065f46; /* Emerald 800 - ê°•ì¡°ìƒ‰ */
        }
        body { font-family: 'Noto Sans KR', 'Inter', sans-serif; }
        .nav-link { 
            padding: 8px 12px; 
            border-radius: 9999px;
            transition: all 0.2s;
            font-weight: 600;
        }
        .nav-link:not(.active-tab) { 
            color: #4b5563; /* gray-600 */
            background-color: transparent;
        }
        .nav-link:hover:not(.active-tab) { 
            background-color: #f3f4f6; /* gray-100 */
        }
        .active-tab { 
            background-color: var(--primary-color);
            color: white; 
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.06);
        }

        /* ëª¨ë‹¬ ìŠ¤íƒ€ì¼ ì¶”ê°€ */
        .modal {
            display: none; /* ì´ˆê¸° ìƒíƒœëŠ” ìˆ¨ê¹€ */
            position: fixed;
            z-index: 100;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0,0,0,0.5);
            padding-top: 50px;
        }
        .modal-content {
            background-color: #fefefe;
            margin: auto;
            padding: 20px;
            border-radius: 12px;
            width: 90%;
            max-width: 600px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
            position: relative;
        }
        .close-btn {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
        }
        .close-btn:hover,
        .close-btn:focus {
            color: #000;
            text-decoration: none;
            cursor: pointer;
        }
    </style>
</head>
<body class="bg-gray-50 min-h-screen">
    <div class="max-w-7xl mx-auto">
        <header class="bg-white shadow-lg sticky top-0 z-20 p-5 rounded-b-xl">
            <h1 class="text-4xl font-extrabold text-[var(--primary-color)] text-center tracking-tight">ì‹œí¥ì€í–‰ì  íŒŒíŒŒì¡´ìŠ¤ ë©”ë‰´íŒ</h1>
            <nav class="mt-4 flex justify-center space-x-4">
                <a href="index.html" class="nav-link">í™ˆ</a>
                <a href="pizza.html" class="nav-link active-tab">í”¼ì</a>
                <a href="side.html" class="nav-link">ì‚¬ì´ë“œ</a>
                <a href="drink.html" class="nav-link">ìŒë£Œ</a>
                <a href="sauce.html" class="nav-link">ì†ŒìŠ¤/í”¼í´</a>
                <a href="cart.html" class="nav-link text-gray-600 font-bold hover:text-green-800">ì¥ë°”êµ¬ë‹ˆ</a>
            </nav>
        </header>

        <main class="p-8">
            <div class="bg-yellow-50 border-l-4 border-yellow-500 text-yellow-800 p-4 mb-6 rounded-lg shadow-sm">
                <h3 class="text-xl font-bold">ğŸ“¢ ê¸ˆìš”ì¼ í•œì • ë² ìŠ¤íŠ¸ë©”ë‰´ ë¼ì§€ì‚¬ì´ì¦ˆ 1+1 ì´ë²¤íŠ¸</h3>
                <p class="text-sm mt-1"><strong>[ê¸ˆìš”ì¼ í•œì •]</strong> 1+1 ì ìš©! â€» Lì‚¬ì´ì¦ˆ í•œì •, ë°©ë¬¸ í¬ì¥ ì „ìš© (ìƒì„¸ ì¡°ê±´ì€ ì¥ë°”êµ¬ë‹ˆì—ì„œ ìë™ ì ìš©)</p>
            </div>
            
            <h2 class="text-3xl font-bold text-gray-800 mb-6 border-b-2 border-[var(--primary-color)] pb-2">ğŸ• í”¼ì ë©”ë‰´ ëª©ë¡ (25ì¢…)</h2>
            <div id="menu-list" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
                </div>
            
            <div id="alert-box" class="fixed bottom-5 right-5 z-50 p-4 bg-emerald-600 text-white rounded-xl shadow-2xl hidden transition-opacity duration-300 opacity-0"></div>
        </main>
    </div>

    <div id="option-modal" class="modal">
        <div class="modal-content">
            <span class="close-btn" onclick="document.getElementById('option-modal').style.display='none'">&times;</span>
            <h3 id="modal-title" class="text-2xl font-bold text-[var(--primary-color)] mb-4"></h3>
            
            <div class="space-y-4">
                <p id="modal-topping" class="text-gray-600 text-sm border-b pb-2"></p>
                
                <div class="flex items-center justify-between p-3 bg-gray-100 rounded-lg">
                    <label for="size-select" class="font-semibold text-gray-800">ì‚¬ì´ì¦ˆ ì„ íƒ:</label>
                    <select id="size-select" class="p-2 border border-gray-300 rounded-lg focus:ring-emerald-500 focus:border-emerald-500"></select>
                </div>
                
                <div class="p-3 bg-gray-100 rounded-lg">
                    <label for="crust-select" class="font-semibold text-gray-800 block mb-1">í¬ëŸ¬ìŠ¤íŠ¸ ì„ íƒ (ì¶”ê°€ê¸ˆ ë°œìƒ):</label>
                    <select id="crust-select" class="w-full p-2 border border-gray-300 rounded-lg focus:ring-emerald-500 focus:border-emerald-500"></select>
                </div>
                
                <p id="size-warning" class="text-sm font-bold text-red-500 text-center"></p>
            </div>
            
            <div class="mt-6 pt-4 border-t border-gray-200 flex items-center justify-between">
                <span class="text-xl font-extrabold text-[var(--secondary-color)]">ì´ ê¸ˆì•¡: <span id="final-price-display">0ì›</span></span>
                <button id="add-to-cart-btn" class="bg-emerald-600 hover:bg-emerald-700 text-white text-lg font-semibold px-6 py-3 rounded-full transition duration-200 shadow-md transform hover:scale-105">
                    ì¥ë°”êµ¬ë‹ˆì— ë‹´ê¸°
                </button>
            </div>
        </div>
    </div>


    <script>
        // --- 1. ë©”ë‰´ ë°ì´í„° ë° ë¡œì§ ì •ì˜ ---
        
        // 1+1 ì´ë²¤íŠ¸ê°€ ì ìš©ë˜ëŠ” í”¼ì ID ëª©ë¡ (7ì¢…)
        const EVENT_PIZZA_IDS = ['P05', 'P06', 'P08', 'P09', 'P10', 'P15', 'P16'];

        // í”¼ì ì „ì²´ ë©”ë‰´ ë°ì´í„° (25ì¢…) - ê³ ê°ë‹˜ ì •ë³´ ë°˜ì˜
        const MENU_DATA = {
            'P01': { img: 'IMG_7782.jpeg', name: 'ë°”ë² í ìˆë¦½ í¬ëŸ°ì¹˜', priceL: 34500, priceF: 41900, topping: 'í•œ íŒ ê°€ë“ ì†Œê°ˆë¹„, ì˜¤ë¦¬ì§€ë„ ì•„ë©”ë¦¬ì¹¸ BBQ! ì¹˜ì¦ˆì™€ ë°”ì‚­í•œ ì‹ê°ê¹Œì§€ ë”í•œ ë¦¬ì–¼ ê³ ê¸° í”¼ì. ê¸°ë³¸í† í•‘: ë°”ë² í ì†ŒìŠ¤, ì†Œê°ˆë¹„ì‚´, 3ë¸”ëœë“œ ì¹˜ì¦ˆ, ê°ìí›„ë ˆì´í¬, ì–‘íŒŒ', isEvent: false, sizes: ['L', 'F'], crusts: ['original', 'thin', 'cheeseroll', 'goldring', 'spicygarliccheeseroll', 'croissant'] },
            'P02': { img: 'IMG_7783.jpeg', name: 'ë©œë¡œìš° ì½˜í¬ë¦¼', priceL: 27500, priceF: 33900, priceP: 41500, topping: 'ë¶€ë“œëŸ¬ìš´ ì˜¥ìˆ˜ìˆ˜í¬ë¦¼ê³¼ ì½˜&íŒŒì¸ì• í”Œì„ ë”í•œ ë‹¬ì½¤í•œ í”¼ì. ê¸°ë³¸í† í•‘: ê°ˆë¦­ ëœì¹˜ ì†ŒìŠ¤, íŒŒì¸ì• í”Œ, ì½˜, ì–‘íŒŒ, ì²´ë‹¤ ì¹˜ì¦ˆ, í¬í…Œì´í† ', isEvent: false, sizes: ['L', 'F', 'P'], crusts: ['original', 'thin', 'cheeseroll', 'goldring', 'spicygarliccheeseroll', 'croissant'] },
            'P03': { img: 'IMG_7784.jpeg', name: 'ìŠ¤íƒ€ë¼ì´íŠ¸ ë°”ì§ˆ', priceL: 33500, priceF: 39900, priceP: 48500, topping: 'ì…ì•ˆ ê°€ë“ ë°”ì§ˆì˜ í–¥ê¸‹í•¨ê³¼ ê³ ì†Œí•œ ì¹˜ì¦ˆì˜ í’ë¯¸ê°€ ëŠê»´ì§€ëŠ” íŠ¹ë³„í•œ ë³„ëª¨ì–‘ í”¼ì. ê¸°ë³¸í† í•‘: ë² ì´ì»¨, ì–‘ì†¡ì´, ì¹˜ì¦ˆ, í–„, í† ë§ˆí† , ë°”ì§ˆë§ˆìš” ì†ŒìŠ¤, ê°ˆë¦­ ì†ŒìŠ¤, ìŠ¤íŠ¸ë§ ì¹˜ì¦ˆ', isEvent: false, sizes: ['L', 'F', 'P'], crusts: ['original'] },
            'P04': { img: 'IMG_7785.jpeg', name: 'ë”ë¸” í•« ì•¤ ìŠ¤íŒŒì´ì‹œ ë©•ì‹œì¹¸', priceL: 33500, priceF: 39900, topping: 'ìƒˆë¡œìš´ ë§›ì˜ ìŠ¤íŒŒì´ì‹œ ê°ˆë¦­ ì¹˜ì¦ˆë¡¤ê³¼ í• ë¼í˜ë‡¨ì˜ ë§Œë‚¨. ê¸°ë³¸í† í•‘: í† ë§ˆí†  ì†ŒìŠ¤, ë¹„í”„, í”¼ë§, ì–‘íŒŒ, í† ë§ˆí† , ë¸”ë™ì˜¬ë¦¬ë¸Œ, í• ë¼í˜ë‡¨, ëª¨ì§œë ë¼ ì¹˜ì¦ˆ', isEvent: false, sizes: ['L', 'F'], crusts: ['original', 'spicygarliccheeseroll'] }, 
            'P05': { img: 'IMG_7786.jpeg', name: 'ìˆ˜í¼ íŒŒíŒŒìŠ¤', priceR: 19900, priceL: 28500, priceF: 33900, priceP: 42500, topping: 'ì‹ ì„ í•œ í† ë§ˆí†  ì†ŒìŠ¤ ìœ„ì— ê°ì¢… ê³ ê¸°ì™€ ì±„ì†Œê°€ ë“¬ë¿ í† í•‘ëœ ë² ìŠ¤íŠ¸ í”¼ì. ê¸°ë³¸í† í•‘: í† ë§ˆí†  ì†ŒìŠ¤, ì´íƒˆë¦¬ì•ˆ ì†Œì‹œì§€, ì–‘íŒŒ, ì²­í”¼ë§, ì–‘ì†¡ì´, ë¸”ë™ ì˜¬ë¦¬ë¸Œ, í–„, í˜í¼ë¡œë‹ˆ', isEvent: true, sizes: ['R', 'L', 'F', 'P'], crusts: ['original', 'thin', 'cheeseroll', 'goldring', 'spicygarliccheeseroll', 'croissant'] },
            'P06': { img: 'IMG_7787.jpeg', name: 'ì¡´ìŠ¤ í˜ì´ë²„ë¦¿', priceL: 29500, priceF: 34900, priceP: 45500, topping: 'ì´íƒˆë¦¬ì•ˆ ì†Œì‹œì§€, í˜í¼ë¡œë‹ˆì™€ 6ì¢…ì˜ ì¹˜ì¦ˆê°€ ë§Œë“¤ì–´ ë‚´ëŠ” ì§„í•œ í’ë¯¸ì˜ ë² ìŠ¤íŠ¸ ì…€ëŸ¬. ê¸°ë³¸í† í•‘: 6ì¢… ì¹˜ì¦ˆ, ì´íƒˆë¦¬ì•ˆ ì†Œì‹œì§€, í˜í¼ë¡œë‹ˆ, ì´íƒˆë¦¬ì•ˆ í—ˆë¸Œ', isEvent: true, sizes: ['L', 'F', 'P'], crusts: ['original', 'thin', 'cheeseroll', 'goldring', 'spicygarliccheeseroll', 'croissant'] },
            'P07': { img: 'IMG_7895.jpeg', name: 'ì˜¬ë¯¸íŠ¸', priceR: 19900, priceL: 29500, priceF: 34900, priceP: 45500, topping: 'í˜í¼ë¡œë‹ˆ, í–„, ì´íƒˆë¦¬ì•ˆ ì†Œì‹œì§€, ë¹„í”„í† í•‘ê¹Œì§€ íŒŒíŒŒì¡´ìŠ¤ì˜ ì—„ì„ ëœ ê³ ê¸°í† í•‘ìœ¼ë¡œ ê½‰ ì±„ìš´ í”¼ì. ê¸°ë³¸í† í•‘: ì´íƒˆë¦¬ì•ˆ ì†Œì‹œì§€, ë² ì´ì»¨, ë¹„í”„, í–„, í˜í¼ë¡œë‹ˆ', isEvent: false, sizes: ['R', 'L', 'F', 'P'], crusts: ['original', 'thin', 'cheeseroll', 'goldring', 'spicygarliccheeseroll', 'croissant'] },
            'P08': { img: 'IMG_7789.jpeg', name: 'ìŠ¤íŒŒì´ì‹œ ì¹˜í‚¨ëœì¹˜', priceR: 19900, priceL: 29500, priceF: 34900, priceP: 43500, topping: 'ì€ì€í•œ í–¥ê³¼ ë§›ì˜ ëœì¹˜ ì†ŒìŠ¤, ê·¸ë¦´ë“œ ì¹˜í‚¨, ìƒí¼í•œ í† ë§ˆí† ì™€ í• ë¼í˜ë‡¨ê°€ í† í•‘. ê¸°ë³¸í† í•‘: ê°ˆë¦­ ëœì¹˜ ì†ŒìŠ¤, ê·¸ë¦´ë“œ ì¹˜í‚¨, ë² ì´ì»¨, í† ë§ˆí† , í• ë¼í˜ë‡¨', isEvent: true, sizes: ['R', 'L', 'F', 'P'], crusts: ['original', 'thin', 'cheeseroll', 'goldring', 'spicygarliccheeseroll', 'croissant'] },
            'P09': { img: 'IMG_7790.jpeg', name: 'ì•„ì´ë¦¬ì‰¬ í¬í…Œì´í† ', priceR: 18900, priceL: 27500, priceF: 32900, priceP: 40500, topping: 'ì§„í•œ ê°ˆë¦­ ì†ŒìŠ¤ì™€ ë‹´ë°±í•œ í¬í…Œì´í†  ì²­í¬ì˜ ì¡°í™”ë¡œ ì‚¬ë‘ ë°›ëŠ” ë² ìŠ¤íŠ¸ ì…€ëŸ¬. ê¸°ë³¸í† í•‘: í† ë§ˆí†  ì†ŒìŠ¤, í¬í…Œì´í† , ë² ì´ì»¨, ì–‘ì†¡ì´, ì½˜, ì–‘íŒŒ, ê°ˆë¦­ ì†ŒìŠ¤', isEvent: true, sizes: ['R', 'L', 'F', 'P'], crusts: ['original', 'thin', 'cheeseroll', 'goldring', 'spicygarliccheeseroll', 'croissant'] },
            'P10': { img: 'IMG_7791.jpeg', name: 'ì¹˜í‚¨ ë°”ë² í', priceR: 18900, priceL: 27500, priceF: 32900, priceP: 40500, topping: 'ìƒˆì½¤ë‹¬ì½¤í•œ íƒ€ë°”ìŠ¤ì½” BBQ ì†ŒìŠ¤ì™€ ë‘íˆ¼í•œ ê·¸ë¦´ë“œ ì¹˜í‚¨. ê¸°ë³¸í† í•‘: í† ë§ˆí†  ì†ŒìŠ¤, ê·¸ë¦´ë“œ ì¹˜í‚¨, ë² ì´ì»¨, ì–‘íŒŒ, íƒ€ë°”ìŠ¤ì½” BBQ ì†ŒìŠ¤', isEvent: true, sizes: ['R', 'L', 'F', 'P'], crusts: ['original', 'thin', 'cheeseroll', 'goldring', 'spicygarliccheeseroll', 'croissant'] },
            'P11': { img: 'IMG_7798.jpeg', name: 'í¬ë¦¬ìŠ¤í”¼ ì¹˜ì¦ˆ í˜í¼ë¡œë‹ˆ í”¼ì', priceF: 31900, topping: 'ì–‡ì€ ì”¬ë„ìš° ë°”ë‹¥ì— íŒŒë§ˆì‚°+ë¡œë§ˆë…¸ ì¹˜ì¦ˆê°€ ë”í•´ì ¸ ë”ìš± ë°”ì‚­í•¨. ê¸°ë³¸í† í•‘: 2ë¸”ëœë“œ ì¹˜ì¦ˆ, í† ë§ˆí†  ì†ŒìŠ¤, ëª¨ì§œë ë¼ ì¹˜ì¦ˆ, í˜í¼ë¡œë‹ˆ', isEvent: false, sizes: ['F'], crusts: ['thin'] }, 
            'P12': { img: 'IMG_7799.jpeg', name: 'í¬ë¦¬ìŠ¤í”¼ ì¹˜ì¦ˆ íŠ¸ë¦¬í”Œ í”¼ì', priceF: 33900, topping: 'ë°”ì‚­í•œ íˆ¬ì¹˜ì¦ˆ í¬ëŸ¬ìŠ¤íŠ¸ ì—£ì§€ì— ì•Œí”„ë ˆë„ ì†ŒìŠ¤, ì–‘ì†¡ì´, í–„ì´ 6ê°€ì§€ ì¹˜ì¦ˆì™€ ì¡°í™”. ê¸°ë³¸í† í•‘: 2ë¸”ëœë“œ ì¹˜ì¦ˆ, ì•Œí”„ë ˆë„ ì†ŒìŠ¤, ëª¨ì§œë ë¼ ì¹˜ì¦ˆ, ìŠ¤íŠ¸ë§ ì¹˜ì¦ˆ, ì´íƒˆë¦¬ì•ˆ í—ˆë¸Œ ì‹œì¦ˆë‹', isEvent: false, sizes: ['F'], crusts: ['thin'] },
            'P13': { img: 'IMG_7800.jpeg', name: 'í–„ ë¨¸ì‰¬ë£¸ ì‹ìŠ¤ ì¹˜ì¦ˆ', priceL: 28500, priceF: 33900, priceP: 42500, topping: 'ì•Œí”„ë ˆë„ ì†ŒìŠ¤, ì–‘ì†¡ì´ ë²„ì„¯, í–„ì´ 6ê°€ì§€ ì¹˜ì¦ˆì™€ ì¡°í™”. ê¸°ë³¸í† í•‘: ì•Œí”„ë ˆë„ì†ŒìŠ¤, ì–‘ì†¡ì´ë²„ì„¯, ì–‘íŒŒ, í–„, ì¹˜ì¦ˆ, 2ë¸”ëœë“œ ì¹˜ì¦ˆ, 3ë¸”ëœë“œ ì¹˜ì¦ˆ, í›„ì¶”', isEvent: false, sizes: ['L', 'F', 'P'], crusts: ['original', 'thin', 'cheeseroll', 'goldring', 'spicygarliccheeseroll', 'croissant'] },
            'P14': { img: 'IMG_7801.jpeg', name: 'ìœ„ìŠ¤ì½˜ì‹  ì¹˜ì¦ˆ í¬í…Œì´í† ', priceL: 29500, priceF: 35900, priceP: 45500, topping: 'ì§„í•œ ë§¥ì•¤ì¹˜ì¦ˆ ë² ì´ìŠ¤ ì†ŒìŠ¤ì— 6ê°€ì§€ ì¹˜ì¦ˆì™€ í’ë¶€í•œ í† í•‘. ê¸°ë³¸í† í•‘: ë§¥ì•¤ì¹˜ì¦ˆ ì†ŒìŠ¤, ë² ì´ì»¨, í–„, í˜í¼ë¡œë‹ˆ, í¬í…Œì´í† , 3ë¸”ëœë“œ ì¹˜ì¦ˆ, 2ë¸”ëœë“œ ì¹˜ì¦ˆ', isEvent: false, sizes: ['L', 'F', 'P'], crusts: ['original', 'cheeseroll', 'goldring', 'spicygarliccheeseroll', 'croissant'] }, 
            'P15': { img: 'IMG_8152.jpeg', name: 'ë”ë¸” ì¹˜ì¦ˆë²„ê±°', priceL: 29500, priceF: 34900, priceP: 43500, topping: 'ì œìŠ¤í‹° ë²„ê±° ì†ŒìŠ¤ìœ„ì— ë¹„í”„ì™€ ìƒí¼í•œ í† ë§ˆí† , í”¼í´ì´ ì–´ìš°ì§„ í’ë¶€í•œ ë§›. ê¸°ë³¸í† í•‘: ì œìŠ¤í‹° ë²„ê±° ì†ŒìŠ¤, ë¹„í”„, í† ë§ˆí† , í”¼í´', isEvent: true, sizes: ['L', 'F', 'P'], crusts: ['original', 'thin', 'cheeseroll', 'goldring', 'spicygarliccheeseroll', 'croissant'] },
            'P16': { img: 'IMG_8153.jpeg', name: 'í”„ë¦¬ë¯¸ì—„ ì§í™”ë¶ˆê³ ê¸°', priceL: 29500, priceF: 34900, priceP: 43500, topping: 'ì •í†µ ì§í™” ë¶ˆê³ ê¸°, ì‹ ì„ í•œ ì±„ì†Œ í† í•‘ìœ¼ë¡œ ëˆ„êµ¬ë‚˜ ì¢‹ì•„í• ìˆ˜ ìˆëŠ” ìŠ¤í…Œë”” ì…€ëŸ¬. ê¸°ë³¸í† í•‘: ë¶ˆê³ ê¸° ì†ŒìŠ¤, í‘œê³ , ì²­í”¼ë§, ì–‘íŒŒ, ë¶ˆê³ ê¸°', isEvent: true, sizes: ['L', 'F', 'P'], crusts: ['original', 'thin', 'cheeseroll', 'goldring', 'spicygarliccheeseroll', 'croissant'] },
            'P17': { img: 'IMG_7803.jpeg', name: 'ì‹ìŠ¤ ì¹˜ì¦ˆ', priceL: 26500, priceF: 31900, priceP: 39500, topping: '6ì¢…ì˜ ì¹˜ì¦ˆ ë§›ì„ í’ë¶€í•˜ê²Œ ëŠë‚„ ìˆ˜ ìˆëŠ” ì •í†µ ì¹˜ì¦ˆí”¼ì. ê¸°ë³¸í† í•‘: 6ì¢… ì¹˜ì¦ˆ', isEvent: false, sizes: ['L', 'F', 'P'], crusts: ['original', 'thin', 'cheeseroll', 'goldring', 'spicygarliccheeseroll', 'croissant'] },
            'P18': { img: 'IMG_7802.jpeg', name: 'ìŠ¤íŒŒì´ì‹œ ì´íƒˆë¦¬ì•ˆ', priceL: 27500, priceF: 33900, priceP: 40500, topping: 'ì´íƒˆë¦¬ì•ˆ ì†Œì‹œì§€ì˜ ë‘íˆ¼í•œ ì‹ê°ê³¼ í¬ëŸ¬ì‰¬ë“œ ë ˆë“œí˜í¼ì˜ ë§¤ìš´ë§›. ê¸°ë³¸í† í•‘: ì´íƒˆë¦¬ì•ˆ ì†Œì‹œì§€, í˜í¼ë¡œë‹ˆ, í¬ëŸ¬ì‰¬ë“œ ë ˆë“œí˜í¼', isEvent: false, sizes: ['L', 'F', 'P'], crusts: ['original', 'thin', 'cheeseroll', 'goldring', 'spicygarliccheeseroll', 'croissant'] },
            'P19': { img: 'IMG_78150.jpeg', name: 'ìŠˆë¦¼í”„ ì•Œí”„ë ˆë„', priceF: 34900, topping: 'ì–‡ê³  ë°”ì‚­í•œ ì”¬ë„ìš° ìœ„ì— ë¶€ë“œëŸ¬ìš´ ì•Œí”„ë ˆë„ ì†ŒìŠ¤ì™€ íƒ±íƒ±í•œ ìƒˆìš°. ê¸°ë³¸í† í•‘: ì•Œí”„ë ˆë„ ì†ŒìŠ¤, ìƒˆìš°, í† ë§ˆí† , í”¼í´, ê·¸ë¦´ë“œ ì¹˜í‚¨, ì–‘ì†¡ì´', isEvent: false, sizes: ['F'], crusts: ['thin'] }, 
            'P20': { img: 'IMG_7792.jpeg', name: 'ë§ˆê°€ë¦¬íƒ€', priceR: 16900, priceL: 23500, priceF: 28900, priceP: 36500, topping: 'íŒŒíŒŒì¡´ìŠ¤ íŠ¹ìœ ì˜ ì§„í•œ í† ë§ˆí†  ì†ŒìŠ¤ì™€ ìµœìƒê¸‰ ëª¨ì§œë ë¼ ì¹˜ì¦ˆ. ê¸°ë³¸í† í•‘: í† ë§ˆí†  ì†ŒìŠ¤, ëª¨ì§œë ë¼ ì¹˜ì¦ˆ', isEvent: false, sizes: ['R', 'L', 'F', 'P'], crusts: ['original', 'thin', 'cheeseroll', 'goldring', 'spicygarliccheeseroll', 'croissant'] },
            'P21': { img: 'IMG_7793.jpeg', name: 'í˜í¼ë¡œë‹ˆ', priceR: 17900, priceL: 25500, priceF: 30900, priceP: 38500, topping: 'ì«„ê¹ƒì«„ê¹ƒ ì§­ì¡°ë¦„í•œ í˜í¼ë¡œë‹ˆì™€ ê³ ì†Œí•œ ì¹˜ì¦ˆ. ê¸°ë³¸í† í•‘: í† ë§ˆí†  ì†ŒìŠ¤, í˜í¼ë¡œë‹ˆ', isEvent: false, sizes: ['R', 'L', 'F', 'P'], crusts: ['original', 'thin', 'cheeseroll', 'goldring', 'spicygarliccheeseroll', 'croissant'] },
            'P22': { img: 'IMG_7794.jpeg', name: 'í•˜ì™€ì´ì•ˆ', priceR: 17900, priceL: 26500, priceF: 32900, priceP: 39500, topping: 'ìƒˆì½¤ë‹¬ì½¤í•œ íŒŒì¸ì• í”Œê³¼ í–„, ì«€ë“í•œ ëª¨ì§œë ë¼ ì¹˜ì¦ˆ. ê¸°ë³¸í† í•‘: í† ë§ˆí†  ì†ŒìŠ¤, íŒŒì¸ì• í”Œ, í–„', isEvent: false, sizes: ['R', 'L', 'F', 'P'], crusts: ['original', 'thin', 'cheeseroll', 'goldring', 'spicygarliccheeseroll', 'croissant'] },
            'P23': { img: 'IMG_7795.jpeg', name: 'ê°€ë“  ìŠ¤í˜ì…œ', priceR: 17900, priceL: 26500, priceF: 31900, priceP: 39500, topping: 'ì–‘ì†¡ì´, ì²­í”¼ë§, ì˜¬ë¦¬ë¸Œ, ì–‘íŒŒ, í† ë§ˆí† ë“±ì˜ ì‹ ì„ í•œì±„ì†Œ. ê¸°ë³¸í† í•‘: í† ë§ˆí†  ì†ŒìŠ¤, ì–‘ì†¡ì´, ì²­í”¼ë§, ì–‘íŒŒ, ë¸”ë™ ì˜¬ë¦¬ë¸Œ, í† ë§ˆí† ', isEvent: false, sizes: ['R', 'L', 'F', 'P'], crusts: ['original', 'thin', 'cheeseroll', 'goldring', 'spicygarliccheeseroll', 'croissant'] },
            'P24': { img: 'IMG_8152.jpeg', name: 'ê·¸ë¦°ì‡ ì‹ë¬¼ì„± ë§ˆê°€ë¦¬íƒ€', priceL: 26500, topping: 'ì „í†µìˆëŠ” SHEESEì‚¬ì˜ ë¹„ê±´ì¹˜ì¦ˆì™€ ì‹ ì„ í•œ í† ë§ˆí†  ì†ŒìŠ¤ì˜ ê¹”ë”í•œ í’ë¯¸. ê¸°ë³¸í† í•‘: ë¹„ê±´ì¹˜ì¦ˆ, í† ë§ˆí†  ì†ŒìŠ¤', isEvent: false, sizes: ['L'], crusts: ['original'] },
            'P25': { img: 'IMG_8152.jpeg', name: 'ê·¸ë¦°ì‡ ì‹ë¬¼ì„± ê°€ë“ ìŠ¤í˜ì…œ', priceL: 29500, topping: 'ë¹„ê±´ì¹˜ì¦ˆì™€ ì‹ ì„ í•œ ì±„ì†Œê°€ ì–´ìš°ëŸ¬ì§„ ì›°ë¹™ ì±„ì‹ í”¼ì. ê¸°ë³¸í† í•‘: í† ë§ˆí†  ì†ŒìŠ¤, ë¹„ê±´ ì¹˜ì¦ˆ, ì–‘ì†¡ì´, ì²­í”¼ë§, ì–‘íŒŒ, ë¸”ë™ ì˜¬ë¦¬ë¸Œ, í† ë§ˆí† ', isEvent: false, sizes: ['L'], crusts: ['original'] }
        };

        // í¬ëŸ¬ìŠ¤íŠ¸ ì •ë³´ (ê°€ê²©ì€ L/F/P ìˆœì„œ)
        const CRUST_OPTIONS = [
            { value: 'original', name: 'ì˜¤ë¦¬ì§€ë„ í¬ëŸ¬ìŠ¤íŠ¸', desc: 'ì«„ê¹ƒí•˜ê³  ê³ ì†Œí•œ ê¸°ë³¸', priceL: 0, priceF: 0, priceP: 0 },
            { value: 'thin', name: 'ì”¬ (Thin)', desc: 'ë°”ì‚­í•œ ì‹ê°', priceL: 0, priceF: 0, priceP: 0 },
            { value: 'cheeseroll', name: 'ì¹˜ì¦ˆë¡¤', desc: 'ìŠ¤íŠ¸ë§ ì¹˜ì¦ˆì˜ ìœ í˜¹', priceL: 4000, priceF: 5000, priceP: 6000 },
            { value: 'goldring', name: 'ê³¨ë“œë§', desc: 'ê³ êµ¬ë§ˆ ë¬´ìŠ¤ì™€ ìŠ¤íŠ¸ë§ ì¹˜ì¦ˆ', priceL: 4000, priceF: 5000, priceP: 6000 },
            { value: 'spicygarliccheeseroll', name: 'ìŠ¤íŒŒì´ì‹œ ê°ˆë¦­ ì¹˜ì¦ˆë¡¤', desc: 'ì§„í•œ ê°ˆë¦­ í–¥ê³¼ ë ˆë“œí˜í¼', priceL: 4000, priceF: 5000, priceP: 6000 },
            { value: 'croissant', name: 'í¬ë£¨ì•„ìƒ', desc: 'ë°”ì‚­í•œ ë²„í„° í’ë¯¸ (P ì‚¬ì´ì¦ˆë§Œ ì¶”ê°€ê¸ˆ)', priceL: 0, priceF: 0, priceP: 6000 }
        ];

        let currentSelectedItem = null;
        
        // --- 2. ì¥ë°”êµ¬ë‹ˆ ë¡œì§ (addToCart) ---
        const CART_KEY = 'papa_menu_cart';

        function getCart() {
            try {
                const cartString = localStorage.getItem(CART_KEY);
                return cartString ? JSON.parse(cartString) : [];
            } catch (e) {
                console.error("Error reading cart from localStorage:", e);
                return [];
            }
        }

        function saveCart(cart) {
            try {
                localStorage.setItem(CART_KEY, JSON.stringify(cart));
            } catch (e) {
                console.error("Error saving cart to localStorage:", e);
            }
        }

        // --- 3. UI ë Œë”ë§ ë° ìœ í‹¸ë¦¬í‹° ---
        function showAlert(message, bgColorClass) {
            const alertBox = document.getElementById('alert-box');
            if (alertBox) {
                alertBox.textContent = message;
                alertBox.className = `fixed bottom-5 right-5 z-50 p-4 ${bgColorClass} text-white rounded-xl shadow-2xl transition-opacity duration-300 opacity-0`;
                alertBox.style.display = 'block';
                
                setTimeout(() => alertBox.style.opacity = '1', 10);
                
                setTimeout(() => {
                    alertBox.style.opacity = '0';
                    setTimeout(() => alertBox.style.display = 'none', 300);
                }, 3000);
            }
        }
        
        // ë©”ë‰´ í˜ì´ì§€ ë Œë”ë§ í•¨ìˆ˜
        function renderMenuItems() {
            const containerElement = document.getElementById('menu-list');
            containerElement.innerHTML = '';
            
            Object.keys(MENU_DATA).forEach(id => {
                const item = MENU_DATA[id];
                const card = createMenuItemCard(id, item);
                containerElement.appendChild(card);
            });
        }

                function createMenuItemCard(id, item) {
            const card = document.createElement('div');
            card.className = 'menu-card bg-white p-5 rounded-xl shadow-xl border border-gray-100 flex flex-col justify-between cursor-pointer hover:shadow-2xl transition duration-300';
            card.setAttribute('data-id', id);
            
            // ê¸°ë³¸ ê°€ê²©ì€ L ì‚¬ì´ì¦ˆ, ì—†ìœ¼ë©´ ê°€ëŠ¥í•œ ì‚¬ì´ì¦ˆ ì¤‘ ìµœì €ê°€
            const basePrice = item.priceL || item[`price${item.sizes[0]}`];
            const priceText = basePrice ? basePrice.toLocaleString('ko-KR') : 'ê°€ê²©ë¬¸ì˜';
            const priceDisplay = basePrice ? `â‚© ${priceText} (Lê¸°ì¤€)` : 'ê°€ê²©ë¬¸ì˜';

            // âš ï¸ ì´ë¯¸ì§€ ê²½ë¡œ: assets/images/pizza í´ë”ì˜ íŒŒì¼ì„ ì •í™•íˆ ì§€ì •í•©ë‹ˆë‹¤.
            // onErrorë¥¼ ì‚¬ìš©í•˜ì—¬ íŒŒì¼ì´ ì—†ì„ ê²½ìš° ëŒ€ë¹„ (ì´ ë¶€ë¶„ì´ ì¤‘ìš”í•©ë‹ˆë‹¤!)
            const imageUrl = `assets/images/pizza/${item.img}`;
            const placeholderUrl = `https://placehold.co/600x400/D1FAE5/065F46?text=${encodeURIComponent(item.name.toUpperCase().replace(/\s/g, '+'))}`;
            
            // 1+1 ì´ë²¤íŠ¸ íƒœê·¸
            const eventTag = item.isEvent ? `<span class="absolute top-3 left-3 bg-red-600 text-white text-xs font-bold px-2 py-1 rounded-full shadow-md">1+1 ëŒ€ìƒ</span>` : '';

            card.innerHTML = `
                <div class="relative">
                    ${eventTag}
                    <img src="${imageUrl}" alt="${item.name}" class="w-full h-36 object-cover rounded-lg mb-4 shadow-inner transform transition duration-500 hover:scale-[1.03]" 
                        onerror="this.onerror=null;this.src='${placeholderUrl}';">
                </div>
                
                <div>
                    <h3 class="text-xl font-bold text-gray-900 mb-1">${item.name}</h3>
                    <p class="text-sm text-gray-500 italic mb-3">${item.topping.split('. ')[0]}</p>
                </div>
                
                <div class="mt-4 pt-3 border-t border-gray-100 flex items-center justify-between">
                    <span class="text-lg font-extrabold text-[var(--primary-color)]">
                        ${priceDisplay}
                    </span>
                    <button class="add-to-cart-btn bg-emerald-600 hover:bg-emerald-700 text-white text-sm font-semibold px-4 py-2 rounded-full transition duration-200 shadow-md transform hover:scale-105" onclick="openOptionModal('${id}')">
                        ìƒì„¸ ë³´ê¸° & ì„ íƒ
                    </button>
                </div>
            `;
            return card;
        }

        // --- 4. ëª¨ë‹¬ ë° ì˜µì…˜ ë¡œì§ ---
        window.openOptionModal = function(pizzaId) {
            currentSelectedItem = MENU_DATA[pizzaId];
            if (!currentSelectedItem) return;

            document.getElementById('modal-title').textContent = currentSelectedItem.name;
            document.getElementById('modal-topping').textContent = 'ì£¼ìš” í† í•‘: ' + currentSelectedItem.topping;
            
            // ì‚¬ì´ì¦ˆ ì˜µì…˜ ì—…ë°ì´íŠ¸
            const sizeSelect = document.getElementById('size-select');
            sizeSelect.innerHTML = '';
            
            currentSelectedItem.sizes.forEach(size => {
                const priceKey = `price${size}`;
                const price = currentSelectedItem[priceKey];
                
                const option = document.createElement('option');
                option.value = size;
                option.textContent = `${size} ì‚¬ì´ì¦ˆ (${price.toLocaleString()}ì›)`;
                option.setAttribute('data-price', price);
                sizeSelect.appendChild(option);
            });
            sizeSelect.value = currentSelectedItem.priceL ? 'L' : sizeSelect.options[0].value; 

            // í¬ëŸ¬ìŠ¤íŠ¸ ì˜µì…˜ ì—…ë°ì´íŠ¸
            const crustSelect = document.getElementById('crust-select');
            crustSelect.innerHTML = '';
            
            CRUST_OPTIONS.filter(c => currentSelectedItem.crusts.includes(c.value)).forEach(crust => {
                const option = document.createElement('option');
                option.value = crust.value;
                option.textContent = `${crust.name} (${crust.desc}) ${crust.priceL > 0 ? '(ì¶”ê°€ê¸ˆ ë°œìƒ)' : ''}`;
                crustSelect.appendChild(option);
            });
            crustSelect.value = 'original'; 
            
            updatePrice();
            document.getElementById('option-modal').style.display = 'block';
        }

        // ê°€ê²© ê³„ì‚° ë¡œì§
        function updatePrice() {
            if (!currentSelectedItem) return;

            const sizeSelect = document.getElementById('size-select');
            const crustSelect = document.getElementById('crust-select');
            
            const selectedSize = sizeSelect.value;
            const basePrice = parseInt(sizeSelect.options[sizeSelect.selectedIndex].getAttribute('data-price'));
            const selectedCrustValue = crustSelect.value;
            
            const crustOption = CRUST_OPTIONS.find(c => c.value === selectedCrustValue);
            let crustAddPrice = 0;

            // í¬ëŸ¬ìŠ¤íŠ¸ ì¶”ê°€ê¸ˆ ê³„ì‚° ë¡œì§
            if (crustOption) {
                const priceKey = `price${selectedSize}`;
                // ê°€ê²© ì •ë³´ê°€ ìˆì„ ë•Œë§Œ ì¶”ê°€ê¸ˆ ì ìš© (R ì‚¬ì´ì¦ˆì— ëŒ€í•œ ì²˜ë¦¬ í¬í•¨)
                if (crustOption[priceKey] !== undefined) {
                    crustAddPrice = crustOption[priceKey];
                }
            }
            
            // R ì‚¬ì´ì¦ˆ í¬ëŸ¬ìŠ¤íŠ¸ ë¶ˆê°€ ë¡œì§ (ì”¬(thin) í¬ëŸ¬ìŠ¤íŠ¸ëŠ” L, F, P ì‚¬ì´ì¦ˆì—ë§Œ ì ìš© ê°€ëŠ¥)
            if (selectedSize === 'R' && selectedCrustValue !== 'original') {
                 // R ì‚¬ì´ì¦ˆì—ì„œëŠ” ì˜¤ë¦¬ì§€ë„ ì™¸ í¬ëŸ¬ìŠ¤íŠ¸ê°€ ì›ë˜ ì„ íƒ ë¶ˆê°€ëŠ¥í•˜ì§€ë§Œ, ë©”ë‰´ ë°ì´í„°ì—ì„œ ë§‰ì§€ ì•Šì€ ê²½ìš° ì—¬ê¸°ì„œ ê°•ì œí•¨.
                 // í˜„ì¬ MENU_DATAì—ì„œëŠ” R ì‚¬ì´ì¦ˆ í”¼ìë“¤ì€ ëŒ€ë¶€ë¶„ thinì„ í—ˆìš©í•˜ê³  ìˆì§€ ì•ŠìŒ.
                 // ë‹¤ë§Œ, Rì‚¬ì´ì¦ˆëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ì˜¤ë¦¬ì§€ë„ë§Œ ì„ íƒ ê°€ëŠ¥í•˜ë„ë¡ í•©ë‹ˆë‹¤.
                crustSelect.value = 'original';
                crustAddPrice = 0;
                showAlert('ë ˆê·¤ëŸ¬ ì‚¬ì´ì¦ˆëŠ” í¬ëŸ¬ìŠ¤íŠ¸ ë³€ê²½ì´ ë¶ˆê°€ëŠ¥í•©ë‹ˆë‹¤. ì˜¤ë¦¬ì§€ë„ í¬ëŸ¬ìŠ¤íŠ¸ë¡œ ì„¤ì •ë©ë‹ˆë‹¤.', 'bg-yellow-600');
            }


            let finalPrice = basePrice + crustAddPrice;

            // 1+1 ì´ë²¤íŠ¸ ì œí•œ ì¡°ê±´ í‘œì‹œ ë° ë²„íŠ¼ í™œì„±í™”/ë¹„í™œì„±í™”
            const warningText = document.getElementById('size-warning');
            const addToCartBtn = document.getElementById('add-to-cart-btn');

            if (currentSelectedItem.isEvent) {
                if (selectedSize !== 'L') {
                    warningText.textContent = "âš ï¸ 1+1 ì´ë²¤íŠ¸ëŠ” L ì‚¬ì´ì¦ˆë§Œ ê°€ëŠ¥í•©ë‹ˆë‹¤. L ì‚¬ì´ì¦ˆë¡œ ì„ íƒí•˜ì„¸ìš”."; 
                    addToCartBtn.disabled = true;
                    addToCartBtn.textContent = "L ì‚¬ì´ì¦ˆë¡œ ë³€ê²½í•´ì•¼ ì£¼ë¬¸ ê°€ëŠ¥";
                    addToCartBtn.classList.replace('bg-emerald-600', 'bg-gray-400');
                    addToCartBtn.classList.remove('hover:bg-emerald-700');
                } else {
                    warningText.textContent = "1+1 ì´ë²¤íŠ¸ ì ìš© ê°€ëŠ¥ (L ì‚¬ì´ì¦ˆ)"; 
                    addToCartBtn.disabled = false;
                    addToCartBtn.textContent = "ì¥ë°”êµ¬ë‹ˆì— ë‹´ê¸°";
                    addToCartBtn.classList.replace('bg-gray-400', 'bg-emerald-600');
                    addToCartBtn.classList.add('hover:bg-emerald-700');
                }
            } else {
                warningText.textContent = "";
                addToCartBtn.disabled = false;
                addToCartBtn.textContent = "ì¥ë°”êµ¬ë‹ˆì— ë‹´ê¸°";
                addToCartBtn.classList.replace('bg-gray-400', 'bg-emerald-600');
                addToCartBtn.classList.add('hover:bg-emerald-700');
            }


            document.getElementById('final-price-display').textContent = finalPrice.toLocaleString() + 'ì› (ì¶”ê°€ê¸ˆ: ' + crustAddPrice.toLocaleString() + 'ì›)';
        }

        // ì¥ë°”êµ¬ë‹ˆ ë‹´ê¸° ë²„íŠ¼ ë¡œì§
        document.getElementById('add-to-cart-btn').onclick = function() {
            const sizeSelect = document.getElementById('size-select');
            const crustSelect = document.getElementById('crust-select');
            const selectedSize = sizeSelect.value;
            const isEvent = currentSelectedItem.isEvent;

            if (isEvent && selectedSize !== 'L') {
                showAlert('1+1 ì´ë²¤íŠ¸ ëŒ€ìƒ í”¼ìëŠ” L ì‚¬ì´ì¦ˆë§Œ ì£¼ë¬¸ ê°€ëŠ¥í•©ë‹ˆë‹¤.', 'bg-red-600');
                return; 
            }

            const crustName = crustSelect.options[crustSelect.selectedIndex].text;
            const itemPriceText = document.getElementById('final-price-display').textContent.split('(')[0].replace(/[^0-9]/g, '');
            const itemPrice = parseInt(itemPriceText);
            
            const item = {
                id: currentSelectedItem.id,
                name: currentSelectedItem.name,
                size: selectedSize,
                crust: crustName,
                price: itemPrice, 
                isEvent: isEvent,
                isBOGO: false, // 1+1 ë¡œì§ì€ ì¥ë°”êµ¬ë‹ˆ í˜ì´ì§€ì—ì„œ ìµœì¢… ê³„ì‚°ë¨
                quantity: 1
            };

            const cart = getCart();
            cart.push(item);
            saveCart(cart);
            
            document.getElementById('option-modal').style.display = 'none';
            showAlert(`${item.name} (${item.size}, ${crustName.split('(')[0].trim()})ê°€ ì¥ë°”êµ¬ë‹ˆì— ë‹´ê²¼ìŠµë‹ˆë‹¤.`, 'bg-emerald-600');
        };

        // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ë“±ë¡
        document.addEventListener('DOMContentLoaded', function() {
            try {
                // í”¼ì ë©”ë‰´ ë Œë”ë§ ì‹œì‘
                renderMenuItems();
                
                // ëª¨ë‹¬ ì˜µì…˜ ë³€ê²½ ê°ì§€
                document.getElementById('size-select').addEventListener('change', updatePrice);
                document.getElementById('crust-select').addEventListener('change', updatePrice);
            } catch (e) {
                console.error("ë©”ë‰´ ë Œë”ë§ ì¤‘ ì˜¤ë¥˜ ë°œìƒ:", e);
                document.getElementById('menu-list').innerHTML = '<p class="text-red-500 col-span-full">ë©”ë‰´ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ê°œë°œì ì½˜ì†”ì„ í™•ì¸í•´ì£¼ì„¸ìš”.</p>';
            }
        });
    </script>
</body>
</html>